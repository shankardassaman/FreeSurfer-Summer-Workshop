Subject Stamp: freesurfer-Darwin-OSX-stable-pub-v6.0.0-2beb96c
Current Stamp: freesurfer-Darwin-OSX-stable-pub-v6.0.0-2beb96c
INFO: SUBJECTS_DIR is /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs
Actual FREESURFER_HOME /Volumes/CFMI-CFS/opt/fs6
Darwin trash-can.local 15.6.0 Darwin Kernel Version 15.6.0: Thu Jun 23 18:25:34 PDT 2016; root:xnu-3248.60.10~1/RELEASE_X86_64 x86_64 i386 MacPro6,1 Darwin
#--------------------------------------------
#@# Longitudinal Base Subject Creation Thu Jun 29 09:52:14 EDT 2017
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01
\n mri_diff --notallow-pix --notallow-geo /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/rawavg.mgz /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/rawavg.mgz \n
\n mri_robust_template --mov /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/norm.mgz /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/norm.mgz --lta /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/sub.01.bl.01_to_sub.01.base.01.lta /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/sub.01.dh.01_to_sub.01.base.01.lta --template /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/norm_template.mgz --average 1 --sat 4.685 \n
$Id: mri_robust_template.cpp,v 1.54 2016/05/05 21:17:08 mreuter Exp $

--mov: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/norm.mgz as movable/source volume.
--mov: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/norm.mgz as movable/source volume.
    Total: 2 input volumes
--lta: Will output LTA transforms
--template: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/norm_template.mgz as template output volume.
--average: Using method 1 for template computation.
--sat: Using saturation 4.685 in M-estimator!
reading source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/norm.mgz'...
converting source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/norm.mgz' to bspline ...
MRItoBSpline degree 3
reading source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/norm.mgz'...
converting source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/norm.mgz' to bspline ...
MRItoBSpline degree 3
Will use TP 1 as random initial target (seed 15904 ).

MultiRegistration::initializing Xforms (init 1 , maxres 0 , iterate 5 , epsit 0.01 ) : 

[init] ========================= TP 2 to TP 1 ==============================
         Register TP 2 ( /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/norm.mgz )
          to      TP 1 ( /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/norm.mgz )


Input rotation's max deviation from rotation is: 5.91056e-15
  computing mean coord of TP 1 ( /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/norm.mgz ) 
   mapping back to rot, err = 1.11022e-16
  computing mean coord of TP 2 ( /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/norm.mgz ) 
   mapping back to rot, err = 2.57963e-15
mapping movs and creating initial template...
 using median 
Writing final template: /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/norm_template.mgz
Writing final transforms (warps etc.)...
 Determinant( lta[ 0 ]) : 1

 Determinant( lta[ 1 ]) : 1

registration took 1 minutes and 28 seconds.

 Thank you for using RobustTemplate! 
 If you find it useful and use it for a publication, please cite: 

 Within-Subject Template Estimation for Unbiased Longitudinal Image Analysis
 M. Reuter, N.J. Schmansky, H.D. Rosas, B. Fischl. NeuroImage 2012.
 http://dx.doi.org/10.1016/j.neuroimage.2012.02.084
 http://reuter.mit.edu/papers/reuter-long12.pdf

\n mri_robust_template --mov /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/orig.mgz /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/orig.mgz --average 1 --ixforms /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/sub.01.bl.01_to_sub.01.base.01.lta /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/sub.01.dh.01_to_sub.01.base.01.lta --noit --template /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/orig.mgz \n
$Id: mri_robust_template.cpp,v 1.54 2016/05/05 21:17:08 mreuter Exp $

--mov: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/orig.mgz as movable/source volume.
--mov: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/orig.mgz as movable/source volume.
    Total: 2 input volumes
--average: Using method 1 for template computation.
--ixforms: Will use init XFORMS.
--noit: Will output only first template (no iterations)!
--template: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/orig.mgz as template output volume.
reading source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/orig.mgz'...
converting source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/orig.mgz' to bspline ...
MRItoBSpline degree 3
reading source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/orig.mgz'...
converting source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/orig.mgz' to bspline ...
MRItoBSpline degree 3
mapping movs and creating initial template...
 using median 
Writing final template: /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/orig.mgz
Writing final transforms (warps etc.)...
registration took 0 minutes and 26 seconds.

 Thank you for using RobustTemplate! 
 If you find it useful and use it for a publication, please cite: 

 Within-Subject Template Estimation for Unbiased Longitudinal Image Analysis
 M. Reuter, N.J. Schmansky, H.D. Rosas, B. Fischl. NeuroImage 2012.
 http://dx.doi.org/10.1016/j.neuroimage.2012.02.084
 http://reuter.mit.edu/papers/reuter-long12.pdf

/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms
\n mri_concatenate_lta -invert1 sub.01.bl.01_to_sub.01.base.01.lta identity.nofile sub.01.base.01_to_sub.01.bl.01.lta \n
invert the first LTA before applying it 
Read individual LTAs
Writing  LTA to file sub.01.base.01_to_sub.01.bl.01.lta...
mri_concatenate_lta.bin successful.
\n mri_concatenate_lta -invert1 sub.01.dh.01_to_sub.01.base.01.lta identity.nofile sub.01.base.01_to_sub.01.dh.01.lta \n
invert the first LTA before applying it 
Read individual LTAs
Writing  LTA to file sub.01.base.01_to_sub.01.dh.01.lta...
mri_concatenate_lta.bin successful.
#--------------------------------------------
#@# MotionCor Thu Jun 29 09:54:11 EDT 2017
\n mri_add_xform_to_header -c /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/talairach.xfm /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/orig.mgz /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/orig.mgz \n
INFO: extension is mgz
#--------------------------------------------
#@# Talairach Thu Jun 29 09:54:14 EDT 2017
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
\n mri_nu_correct.mni --no-rescale --i orig.mgz --o orig_nu.mgz --n 1 --proto-iters 1000 --distance 50 \n
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
/Volumes/CFMI-CFS/opt/fs6/bin/mri_nu_correct.mni
--no-rescale --i orig.mgz --o orig_nu.mgz --n 1 --proto-iters 1000 --distance 50
nIters 1
$Id: FreeSurferEnv.csh,v 1.89 2016/06/09 14:54:31 zkaufman Exp $
Darwin trash-can.local 15.6.0 Darwin Kernel Version 15.6.0: Thu Jun 23 18:25:34 PDT 2016; root:xnu-3248.60.10~1/RELEASE_X86_64 x86_64 i386 MacPro6,1 Darwin
Thu Jun 29 09:54:14 EDT 2017
Program nu_correct, built from:
Package MNI N3, version 1.12.0, compiled by nicks@gust.nmr.mgh.harvard.edu (x86_64-apple-darwin11.4.2) on 2015-06-19 at 15:37:08
/usr/bin/bc
tmpdir is ./tmp.mri_nu_correct.mni.78160
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
mri_convert orig.mgz ./tmp.mri_nu_correct.mni.78160/nu0.mnc -odt float
mri_convert.bin orig.mgz ./tmp.mri_nu_correct.mni.78160/nu0.mnc -odt float 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from orig.mgz...
TR=1900.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 0, 0)
j_ras = (0, 0, -1)
k_ras = (0, 1, 0)
changing data type from uchar to float (noscale = 0)...
writing to ./tmp.mri_nu_correct.mni.78160/nu0.mnc...
 
--------------------------------------------------------
Iteration 1 Thu Jun 29 09:54:17 EDT 2017
nu_correct -clobber ./tmp.mri_nu_correct.mni.78160/nu0.mnc ./tmp.mri_nu_correct.mni.78160/nu1.mnc -tmpdir ./tmp.mri_nu_correct.mni.78160/0/ -iterations 1000 -distance 50
[shad@trash-can.local:/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/] [2017-06-29 09:54:17] running:
  /Volumes/CFMI-CFS/opt/fs6/mni/bin/nu_estimate_np_and_em -parzen -log -sharpen 0.15 0.01 -iterations 1000 -stop 0.001 -shrink 4 -auto_mask -nonotify -b_spline 1.0e-7 -distance 50 -quiet -execute -clobber -nokeeptmp -tmpdir ./tmp.mri_nu_correct.mni.78160/0/ ./tmp.mri_nu_correct.mni.78160/nu0.mnc ./tmp.mri_nu_correct.mni.78160/nu1.imp

Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Number of iterations: 44 
CV of field change: 0.000966205
 
 
 
mri_convert ./tmp.mri_nu_correct.mni.78160/nu1.mnc orig_nu.mgz --like orig.mgz --conform
mri_convert.bin ./tmp.mri_nu_correct.mni.78160/nu1.mnc orig_nu.mgz --like orig.mgz --conform 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.mri_nu_correct.mni.78160/nu1.mnc...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 0, 0)
j_ras = (0, 0, -1)
k_ras = (0, 1, 0)
INFO: transform src into the like-volume: orig.mgz
changing data type from float to uchar (noscale = 0)...
MRIchangeType: Building histogram 
writing to orig_nu.mgz...
 
 
Thu Jun 29 09:55:28 EDT 2017
mri_nu_correct.mni done
\n talairach_avi --i orig_nu.mgz --xfm transforms/talairach.auto.xfm \n
talairach_avi log file is transforms/talairach_avi.log...
Started at Thu Jun 29 09:55:28 EDT 2017
Ended   at Thu Jun 29 09:56:00 EDT 2017
talairach_avi done
\n cp transforms/talairach.auto.xfm transforms/talairach.xfm \n
#--------------------------------------------
#@# Talairach Failure Detection Thu Jun 29 09:56:02 EDT 2017
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
\n talairach_afd -T 0.005 -xfm transforms/talairach.xfm \n
talairach_afd: Talairach Transform: transforms/talairach.xfm OK (p=0.7600, pval=0.6675 >= threshold=0.0050)
\n awk -f /Volumes/CFMI-CFS/opt/fs6/bin/extract_talairach_avi_QA.awk /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/talairach_avi.log \n
\n tal_QC_AZS /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/talairach_avi.log \n
TalAviQA: 0.97986
z-score: 0
#--------------------------------------------
#@# Nu Intensity Correction Thu Jun 29 09:56:03 EDT 2017
\n mri_nu_correct.mni --i orig.mgz --o nu.mgz --uchar transforms/talairach.xfm --n 2 \n
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
/Volumes/CFMI-CFS/opt/fs6/bin/mri_nu_correct.mni
--i orig.mgz --o nu.mgz --uchar transforms/talairach.xfm --n 2
nIters 2
$Id: FreeSurferEnv.csh,v 1.89 2016/06/09 14:54:31 zkaufman Exp $
Darwin trash-can.local 15.6.0 Darwin Kernel Version 15.6.0: Thu Jun 23 18:25:34 PDT 2016; root:xnu-3248.60.10~1/RELEASE_X86_64 x86_64 i386 MacPro6,1 Darwin
Thu Jun 29 09:56:03 EDT 2017
Program nu_correct, built from:
Package MNI N3, version 1.12.0, compiled by nicks@gust.nmr.mgh.harvard.edu (x86_64-apple-darwin11.4.2) on 2015-06-19 at 15:37:08
/usr/bin/bc
tmpdir is ./tmp.mri_nu_correct.mni.88633
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
mri_convert orig.mgz ./tmp.mri_nu_correct.mni.88633/nu0.mnc -odt float
mri_convert.bin orig.mgz ./tmp.mri_nu_correct.mni.88633/nu0.mnc -odt float 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from orig.mgz...
TR=1900.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 0, 0)
j_ras = (0, 0, -1)
k_ras = (0, 1, 0)
changing data type from uchar to float (noscale = 0)...
writing to ./tmp.mri_nu_correct.mni.88633/nu0.mnc...
 
--------------------------------------------------------
Iteration 1 Thu Jun 29 09:56:06 EDT 2017
nu_correct -clobber ./tmp.mri_nu_correct.mni.88633/nu0.mnc ./tmp.mri_nu_correct.mni.88633/nu1.mnc -tmpdir ./tmp.mri_nu_correct.mni.88633/0/
[shad@trash-can.local:/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/] [2017-06-29 09:56:06] running:
  /Volumes/CFMI-CFS/opt/fs6/mni/bin/nu_estimate_np_and_em -parzen -log -sharpen 0.15 0.01 -iterations 50 -stop 0.001 -shrink 4 -auto_mask -nonotify -b_spline 1.0e-7 -distance 200 -quiet -execute -clobber -nokeeptmp -tmpdir ./tmp.mri_nu_correct.mni.88633/0/ ./tmp.mri_nu_correct.mni.88633/nu0.mnc ./tmp.mri_nu_correct.mni.88633/nu1.imp

Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Number of iterations: 40 
CV of field change: 0.000998874
 
 
--------------------------------------------------------
Iteration 2 Thu Jun 29 09:56:53 EDT 2017
nu_correct -clobber ./tmp.mri_nu_correct.mni.88633/nu1.mnc ./tmp.mri_nu_correct.mni.88633/nu2.mnc -tmpdir ./tmp.mri_nu_correct.mni.88633/1/
[shad@trash-can.local:/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/] [2017-06-29 09:56:53] running:
  /Volumes/CFMI-CFS/opt/fs6/mni/bin/nu_estimate_np_and_em -parzen -log -sharpen 0.15 0.01 -iterations 50 -stop 0.001 -shrink 4 -auto_mask -nonotify -b_spline 1.0e-7 -distance 200 -quiet -execute -clobber -nokeeptmp -tmpdir ./tmp.mri_nu_correct.mni.88633/1/ ./tmp.mri_nu_correct.mni.88633/nu1.mnc ./tmp.mri_nu_correct.mni.88633/nu2.imp

Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Processing:.................................................................Done
Number of iterations: 23 
CV of field change: 0.000978892
 
 
 
mri_binarize --i ./tmp.mri_nu_correct.mni.88633/nu2.mnc --min -1 --o ./tmp.mri_nu_correct.mni.88633/ones.mgz

$Id: mri_binarize.c,v 1.43 2016/06/09 20:46:21 greve Exp $
cwd /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
cmdline mri_binarize.bin --i ./tmp.mri_nu_correct.mni.88633/nu2.mnc --min -1 --o ./tmp.mri_nu_correct.mni.88633/ones.mgz 
sysname  Darwin
hostname trash-can.local
machine  x86_64
user     shad

input      ./tmp.mri_nu_correct.mni.88633/nu2.mnc
frame      0
nErode3d   0
nErode2d   0
output     ./tmp.mri_nu_correct.mni.88633/ones.mgz
Binarizing based on threshold
min        -1
max        +infinity
binval        1
binvalnot     0
fstart = 0, fend = 0, nframes = 1
Found 16777216 values in range
Counting number of voxels in first frame
Found 16777216 voxels in final mask
Count: 16777216 16777216.000000 16777216 100.000000
mri_binarize done
mri_segstats --id 1 --seg ./tmp.mri_nu_correct.mni.88633/ones.mgz --i orig.mgz --sum ./tmp.mri_nu_correct.mni.88633/sum.junk --avgwf ./tmp.mri_nu_correct.mni.88633/input.mean.dat

$Id: mri_segstats.c,v 1.121 2016/05/31 17:27:11 greve Exp $
cwd 
cmdline mri_segstats --id 1 --seg ./tmp.mri_nu_correct.mni.88633/ones.mgz --i orig.mgz --sum ./tmp.mri_nu_correct.mni.88633/sum.junk --avgwf ./tmp.mri_nu_correct.mni.88633/input.mean.dat 
sysname  Darwin
hostname trash-can.local
machine  x86_64
user     shad
UseRobust  0
Loading ./tmp.mri_nu_correct.mni.88633/ones.mgz
Loading orig.mgz
Voxel Volume is 1 mm^3
Generating list of segmentation ids
Found   1 segmentations
Computing statistics for each segmentation

Reporting on   1 segmentations
Using PrintSegStat
Computing spatial average of each frame
  0
Writing to ./tmp.mri_nu_correct.mni.88633/input.mean.dat
mri_segstats done
mri_segstats --id 1 --seg ./tmp.mri_nu_correct.mni.88633/ones.mgz --i ./tmp.mri_nu_correct.mni.88633/nu2.mnc --sum ./tmp.mri_nu_correct.mni.88633/sum.junk --avgwf ./tmp.mri_nu_correct.mni.88633/output.mean.dat

$Id: mri_segstats.c,v 1.121 2016/05/31 17:27:11 greve Exp $
cwd 
cmdline mri_segstats --id 1 --seg ./tmp.mri_nu_correct.mni.88633/ones.mgz --i ./tmp.mri_nu_correct.mni.88633/nu2.mnc --sum ./tmp.mri_nu_correct.mni.88633/sum.junk --avgwf ./tmp.mri_nu_correct.mni.88633/output.mean.dat 
sysname  Darwin
hostname trash-can.local
machine  x86_64
user     shad
UseRobust  0
Loading ./tmp.mri_nu_correct.mni.88633/ones.mgz
Loading ./tmp.mri_nu_correct.mni.88633/nu2.mnc
Voxel Volume is 1 mm^3
Generating list of segmentation ids
Found   1 segmentations
Computing statistics for each segmentation

Reporting on   1 segmentations
Using PrintSegStat
Computing spatial average of each frame
  0
Writing to ./tmp.mri_nu_correct.mni.88633/output.mean.dat
mri_segstats done
mris_calc -o ./tmp.mri_nu_correct.mni.88633/nu2.mnc ./tmp.mri_nu_correct.mni.88633/nu2.mnc mul 1.02454414678500664983
Saving result to './tmp.mri_nu_correct.mni.88633/nu2.mnc' (type = MINC )                       [ ok ]
mri_convert ./tmp.mri_nu_correct.mni.88633/nu2.mnc nu.mgz --like orig.mgz
mri_convert.bin ./tmp.mri_nu_correct.mni.88633/nu2.mnc nu.mgz --like orig.mgz 
$Id: mri_convert.c,v 1.226 2016/02/26 16:15:24 mreuter Exp $
reading from ./tmp.mri_nu_correct.mni.88633/nu2.mnc...
TR=0.00, TE=0.00, TI=0.00, flip angle=0.00
i_ras = (-1, 0, 0)
j_ras = (0, 0, -1)
k_ras = (0, 1, 0)
INFO: transform src into the like-volume: orig.mgz
writing to nu.mgz...
mri_make_uchar nu.mgz transforms/talairach.xfm nu.mgz
type change took 0 minutes and 9 seconds.
mapping (10, 111) to ( 3, 110)
 
 
Thu Jun 29 09:58:04 EDT 2017
mri_nu_correct.mni done
\n mri_add_xform_to_header -c /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/talairach.xfm nu.mgz nu.mgz \n
INFO: extension is mgz
#--------------------------------------------
#@# Intensity Normalization Thu Jun 29 09:58:05 EDT 2017
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
\n mri_normalize -g 1 -mprage -W ctrl_vol.mgz bias_vol.mgz nu.mgz T1.mgz \n
using max gradient = 1.000
assuming input volume is MGH (Van der Kouwe) MP-RAGE
writing ctrl pts to   ctrl_vol.mgz
writing bias field to bias_vol.mgz
reading from nu.mgz...
normalizing image...
talairach transform
 1.10694  -0.03839  -0.11118  -1.40422;
 0.05352   1.08803   0.08107  -48.34023;
 0.09811  -0.04176   1.18597  -8.28720;
 0.00000   0.00000   0.00000   1.00000;
processing without aseg, no1d=0
MRInormInit(): 
INFO: Modifying talairach volume c_(r,a,s) based on average_305
MRInormalize(): 
MRIsplineNormalize(): npeaks = 10
Starting OpenSpline(): npoints = 10
writing control point volume to ctrl_vol.mgz...
writing control point volume to ctrl_vol.mgz...
writing control point volume to ctrl_vol.mgz...
building Voronoi diagram...
performing soap bubble smoothing, sigma = 8...

Iterating 2 times
---------------------------------
3d normalization pass 1 of 2
white matter peak found at 110
white matter peak found at 89
gm peak at 67 (67), valley at 40 (40)
csf peak at 34, setting threshold to 56
building Voronoi diagram...
performing soap bubble smoothing, sigma = 8...
---------------------------------
3d normalization pass 2 of 2
white matter peak found at 110
white matter peak found at 110
gm peak at 77 (77), valley at 38 (38)
csf peak at 39, setting threshold to 64
building Voronoi diagram...
performing soap bubble smoothing, sigma = 8...
Done iterating ---------------------------------
writing bias field to bias_vol.mgz....
writing output to T1.mgz
3D bias adjustment took 2 minutes and 32 seconds.
#--------------------------------------------
#@# Skull Stripping Thu Jun 29 10:00:39 EDT 2017
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
\n mri_robust_template --mov /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/brainmask.mgz /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/brainmask.mgz --average 0 --ixforms /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/sub.01.bl.01_to_sub.01.base.01.lta /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri/transforms/sub.01.dh.01_to_sub.01.base.01.lta --noit --finalnearest --template brainmask_template.mgz \n
$Id: mri_robust_template.cpp,v 1.54 2016/05/05 21:17:08 mreuter Exp $

--mov: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/brainmask.mgz as movable/source volume.
--mov: Using /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/brainmask.mgz as movable/source volume.
    Total: 2 input volumes
--average: Using method 0 for template computation.
--ixforms: Will use init XFORMS.
--noit: Will output only first template (no iterations)!
--finalnearest: Use nearest neighbor interpolation for final average!
--template: Using brainmask_template.mgz as template output volume.
reading source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/brainmask.mgz'...
converting source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.bl.01/mri/brainmask.mgz' to bspline ...
MRItoBSpline degree 3
reading source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/brainmask.mgz'...
converting source '/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.dh.01/mri/brainmask.mgz' to bspline ...
MRItoBSpline degree 3
mapping movs and creating initial template...
    using mean
Writing final template: brainmask_template.mgz
Writing final transforms (warps etc.)...
registration took 0 minutes and 9 seconds.

 Thank you for using RobustTemplate! 
 If you find it useful and use it for a publication, please cite: 

 Within-Subject Template Estimation for Unbiased Longitudinal Image Analysis
 M. Reuter, N.J. Schmansky, H.D. Rosas, B. Fischl. NeuroImage 2012.
 http://dx.doi.org/10.1016/j.neuroimage.2012.02.084
 http://reuter.mit.edu/papers/reuter-long12.pdf

\n mri_mask -keep_mask_deletion_edits T1.mgz brainmask_template.mgz brainmask.auto.mgz \n
Transferring mask edits ('1' voxels) to dst vol
DoAbs = 0
Writing masked volume to brainmask.auto.mgz...done.
\n mri_mask -transfer 255 -keep_mask_deletion_edits brainmask.auto.mgz brainmask_template.mgz brainmask.auto.mgz \n
transfer mask voxels=255 to dst vol
Transferring mask edits ('1' voxels) to dst vol
DoAbs = 0
Writing masked volume to brainmask.auto.mgz...done.
\n cp brainmask.auto.mgz brainmask.mgz \n
#-------------------------------------
#@# EM Registration Thu Jun 29 10:00:53 EDT 2017
/Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/mri
\n mri_em_register -rusage /Volumes/CFMI-CFS/sync/FreeSurfer-Summer-Workshop/fs/sub.01.base.01/touch/rusage.mri_em_register.dat -mask brainmask.mgz norm_template.mgz /Volumes/CFMI-CFS/opt/fs6/average/RB_all_2016-05-10.vc700.gca transforms/talairach.lta \n
using MR volume brainmask.mgz to mask input volume...

== Number of threads available to mri_em_register for OpenMP = 1 == 
reading 1 input volumes...
logging results to talairach.log
reading '/Volumes/CFMI-CFS/opt/fs6/average/RB_all_2016-05-10.vc700.gca'...
average std = 7.3   using min determinant for regularization = 5.3
0 singular and 841 ill-conditioned covariance matrices regularized
reading 'norm_template.mgz'...
freeing gibbs priors...done.
accounting for voxel sizes in initial transform
bounding unknown intensity as < 6.3 or > 503.7 
total sample mean = 78.5 (494 zeros)
************************************************
spacing=8, using 2252 sample points, tol=1.00e-05...
************************************************
register_mri: find_optimal_transform
find_optimal_transform: nsamples 2252, passno 0, spacing 8
resetting wm mean[0]: 98 --> 107
resetting gm mean[0]: 61 --> 61
input volume #1 is the most T1-like
using real data threshold=28.8
skull bounding box = (61, 70, 51) --> (196, 181, 213)
using (106, 107, 132) as brain centroid...
mean wm in atlas = 107, using box (89,93,112) --> (122, 120,151) to find MRI wm
before smoothing, mri peak at 100
robust fit to distribution - 100 +- 6.7
after smoothing, mri peak at 100, scaling input intensities by 1.070
scaling channel 0 by 1.07
initial log_p = -4.664
************************************************
First Search limited to translation only.
************************************************
max log p =    -4.294401 @ (-9.091, -9.091, -27.273)
max log p =    -4.168000 @ (4.545, 4.545, 4.545)
max log p =    -4.078463 @ (2.273, -2.273, 6.818)
max log p =    -4.061275 @ (-1.136, 1.136, -3.409)
max log p =    -4.061275 @ (0.000, 0.000, 0.000)
max log p =    -4.061275 @ (0.000, 0.000, 0.000)
Found translation: (-3.4, -5.7, -19.3): log p = -4.061
****************************************
Nine parameter search.  iteration 0 nscales = 0 ...
****************************************
Result so far: scale 1.000: max_log_p=-3.715, old_max_log_p =-4.061 (thresh=-4.1)
 1.05465  -0.13885   0.00000   6.83048;
 0.16136   1.22567   0.00000  -54.88546;
 0.00000   0.00000   1.07500  -28.67538;
 0.00000   0.00000   0.00000   1.00000;
****************************************
Nine parameter search.  iteration 1 nscales = 0 ...
****************************************
Result so far: scale 1.000: max_log_p=-3.715, old_max_log_p =-3.715 (thresh=-3.7)
 1.05465  -0.13885   0.00000   6.83048;
 0.16136   1.22567   0.00000  -54.88546;
 0.00000   0.00000   1.07500  -28.67538;
 0.00000   0.00000   0.00000   1.00000;
reducing scale to 0.2500
****************************************
Nine parameter search.  iteration 2 nscales = 1 ...
****************************************
Result so far: scale 0.250: max_log_p=-3.453, old_max_log_p =-3.715 (thresh=-3.7)
 1.09345  -0.14524   0.03384   1.97996;
 0.15232   1.15697   0.03322  -50.94931;
-0.04165  -0.03450   1.05296  -18.38500;
 0.00000   0.00000   0.00000   1.00000;
****************************************
Nine parameter search.  iteration 3 nscales = 1 ...
****************************************
Result so far: scale 0.250: max_log_p=-3.449, old_max_log_p =-3.453 (thresh=-3.4)
 1.09345  -0.14524   0.03384   1.97996;
 0.15087   1.15522   0.06765  -56.78474;
-0.04661  -0.07234   1.05131  -12.74862;
 0.00000   0.00000   0.00000   1.00000;
****************************************
Nine parameter search.  iteration 4 nscales = 1 ...
****************************************
Result so far: scale 0.250: max_log_p=-3.449, old_max_log_p =-3.449 (thresh=-3.4)
 1.09345  -0.14524   0.03384   1.97996;
 0.15087   1.15522   0.06765  -56.78474;
-0.04661  -0.07234   1.05131  -12.74862;
 0.00000   0.00000   0.00000   1.00000;
reducing scale to 0.0625
****************************************
Nine parameter search.  iteration 5 nscales = 2 ...
****************************************
Result so far: scale 0.062: max_log_p=-3.410, old_max_log_p =-3.449 (thresh=-3.4)
 1.09498  -0.13525   0.02587   1.98161;
 0.14182   1.15286   0.05850  -53.69963;
-0.03649  -0.06382   1.05084  -14.60033;
 0.00000   0.00000   0.00000   1.00000;
****************************************
Nine parameter search.  iteration 6 nscales = 2 ...
****************************************
